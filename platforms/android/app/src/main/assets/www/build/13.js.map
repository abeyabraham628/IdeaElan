{"version":3,"sources":["../../src/pages/apply-leave/apply-leave.module.ts","../../src/pages/apply-leave/apply-leave.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ApplyLeavePage } from './apply-leave';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ApplyLeavePage,\r\n    \r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ApplyLeavePage),\r\n    ],\r\n\r\n})\r\nexport class ApplyLeavePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/apply-leave/apply-leave.module.ts","import { leaves, DayMonthYear } from './../../providers/user-leaves';\r\nimport { Component, Type } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController, ModalController, List, ItemContent } from 'ionic-angular';\r\nimport { DatePicker } from '@ionic-native/date-picker';\r\nimport { AngularFireDatabase,AngularFireList } from '@angular/fire/database';\r\nimport { DatePipe } from '@angular/common';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { CalendarModal, CalendarModalOptions, DayConfig, CalendarResult,CalendarComponentOptions } from \"ion2-calendar\";\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Generated class for the ApplyLeavePage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-apply-leave',\r\n  templateUrl: 'apply-leave.html',\r\n})\r\nexport class ApplyLeavePage{\r\n \r\nfromDate:string;\r\ntoDate:string;\r\nleaveList:AngularFireList<any>\r\nleave={} as leaves\r\nleaves:string\r\nmonths={} as DayMonthYear\r\nsickRemaining:number;\r\ncasualRemaining:number;\r\ncurrentMonthLeave:number=0;\r\n$key1:any;\r\n$key2:any;\r\nmultiKey:boolean=false\r\n\r\ntype: 'string'; // 'string' | 'js-date' | 'moment' | 'time' | 'object'\r\n\r\n\r\n monthName=[{'monthName':'January','value':'01'},\r\n            {'monthName':'February','value':'02'},  \r\n            {'monthName':'March','value':'03'},\r\n            {'monthName':'April','value':'04'},  \r\n            {'monthName':'May','value':'05'},  \r\n            {'monthName':'June','value':'06'},  \r\n            {'monthName':'July','value':'07'}, \r\n            {'monthName':'August','value':'08'},  \r\n            {'monthName':'September','value':'09'},  \r\n            {'monthName':'October','value':'10'},  \r\n            {'monthName':'November','value':'11'},  \r\n            {'monthName':'December','value':'12'}]\r\n\r\n\r\n\r\n  constructor(public navCtrl: NavController, \r\n            public navParams: NavParams,\r\n            private datePicker:DatePicker, \r\n            private firebase:AngularFireDatabase,\r\n            private datepipe:DatePipe,\r\n            private afauth:AngularFireAuth,\r\n            private alert:AlertController,\r\n            private modalCtrl:ModalController,\r\n           ) {\r\n            this.leaves=\"applyLeave\";\r\n           }\r\n\r\n          \r\n           openCalendar() {\r\n           \r\n            const options: CalendarComponentOptions = {\r\n              pickMode: 'multi',\r\n              showAdjacentMonthDay:false,\r\n              disableWeeks: [0, 6],\r\n              from:new Date(),\r\n              to: new Date().setDate(new Date().getDate()+45)\r\n             };\r\n\r\n            let myCalendar =  this.modalCtrl.create(CalendarModal, {\r\n              options: options,\r\n            });\r\n         \r\n            myCalendar.present();\r\n            \r\n              myCalendar.onDidDismiss((date: CalendarResult[], type: string) => {\r\n                \r\n                date.sort(function (a, b) {\r\n                  return a.time - b.time;\r\n\r\n              });\r\n              \r\n            \r\n             this.leave=this.tony(date)\r\n              \r\n              \r\n             })//end of calendar dismiss\r\n            \r\n          }//end of open calendar function\r\n     \r\n        \r\n  ionViewDidLoad() {\r\n    this.getRamainingLeaves()\r\n  }\r\n\r\n  \r\n\r\n \r\n\r\n  \r\n  submitLeaveRequest(){\r\n      let uid=this.afauth.auth.currentUser.uid;\r\n      this.leave.status=\"pending\";\r\n      \r\n      \r\n     if(new Date().getHours()<9){\r\n        const alert = this.alert.create({\r\n          title: 'Restricted',\r\n          subTitle: 'Unable to process your request at this moment. Please contact your team leader.!',\r\n          buttons: ['OK']\r\n          });\r\n        alert.present();\r\n    }\r\n      \r\n    else{\r\n      if(this.multiKey){\r\n        this.firebase.list(`EmployeeLeaves/${uid}/Leaves/${this.$key1}`).push({\r\n          'leaveType':this.leave.leaveType,\r\n          'date':this.leave.date,\r\n          'status':this.leave.status,\r\n          'count':this.leave.count\r\n\r\n        }).then(()=>{\r\n          this.firebase.list(`EmployeeLeaves/${uid}/Leaves/${this.$key2}`).push({\r\n            'leaveType':this.leave.leaveType,\r\n            'date':this.leave.date2,\r\n            'status':this.leave.status,\r\n            'count':this.leave.count2\r\n        });//inserting the details of leaves\r\n      });\r\n    }\r\n      else\r\n      this.firebase.list(`EmployeeLeaves/${uid}/Leaves/${this.$key1}`).push(this.leave);//inserting the details of leaves\r\n      //this.firebase.list(`EmployeeLeaves/${uid}/MonthlyLeaves/${this.$key1}`).push(dayCounter)\r\n    }//end of if else \r\n         \r\n       \r\n    }//end os submit leave request function\r\n\r\n\r\n  pastLeaves=[]\r\n  \r\n   getPastLeaves(month?,year?){\r\n    var $month:any\r\n     if(month!=null && year!=null){\r\n       $month=month+\"\"+year\r\n     }\r\n     else{\r\n     var $month:any\r\n     if(new Date().getMonth()+1<10)\r\n      $month=\"0\"+(new Date().getMonth()+1)+\"\"+new Date().getFullYear();\r\n     else\r\n      $month=(new Date().getMonth()+1)+\"\"+new Date().getFullYear();\r\n     }\r\n    this.firebase.list(`EmployeeLeaves/${this.afauth.auth.currentUser.uid}/Leaves/${$month}`).snapshotChanges().subscribe(\r\n       \r\n      list=>{\r\n        this.pastLeaves=list.map(item=>{\r\n          return{\r\n            $key:item.key,\r\n            ...item.payload.val()\r\n          };\r\n          });\r\n      }); \r\n         \r\n     \r\n}//end of function\r\n\r\nasync getRamainingLeaves(){\r\n  let firebase=this.firebase;\r\n  let date:any;\r\n  let year=new Date().getFullYear();\r\n    if(new Date().getMonth()+1<10){\r\n       date=\"0\"+(new Date().getMonth()+1)+\"\"+new Date().getFullYear()\r\n    }\r\n    else{ \r\n      date=new Date().getMonth()+1+\"\"+new Date().getFullYear()\r\n    }\r\n\r\n\r\n      await firebase.database.ref(`EmployeeLeaves/FcXUquFxnfalG9DzoNi4X0CnRoG2/AvailableLeaves/${year}`).on('value',(snapshot)=>{\r\n      this.sickRemaining=snapshot.child('sick').val()\r\n      this.casualRemaining=snapshot.child('casual').val()\r\n      firebase.database.ref(`EmployeeLeaves/FcXUquFxnfalG9DzoNi4X0CnRoG2/MonthlyLeaves/${date}`).on('value',(snapshot)=>{\r\n          this.currentMonthLeave=snapshot.val();\r\n      })\r\n\r\n    })//end of database ref*/\r\n\r\n\r\n}\r\n    \r\n  \r\n\r\ntony(data){\r\n \r\n  \r\n this.months.month=[]\r\n this.months.day=[]\r\n this.months.year=[]\r\n this.leave.date=[]\r\n this.leave.date2=[]\r\n let selectedDates=[]\r\n\r\n  data.forEach((values)=>{\r\n\r\n    selectedDates.push(new Date(values.time).toLocaleDateString())\r\n      this.months.month.push(values.months)\r\n      this.months.year.push(values.years)\r\n\r\n   })   \r\n  \r\n    this.months.month = this.months.month.filter((elem, i, arr) => {\r\n      if (arr.indexOf(elem) === i) {\r\n        return elem\r\n      }\r\n    })\r\n    \r\n    this.months.year = this.months.year.filter((elem, i, arr) => {\r\n      if (arr.indexOf(elem) === i) {\r\n        return elem\r\n      }\r\n    })\r\n  \r\n\r\n\r\n\r\n\r\nif(this.months.month.length===1 && this.months.year.length===1){\r\n    this.$key1=\"0\"+this.months.month[0]+\"\"+this.months.year[0]\r\n    \r\n    for(let i=0;i<selectedDates.length;i++){\r\n      this.leave.date.push(selectedDates[i]);\r\n    }\r\n    this.leave.count=this.leave.date.length\r\n  }\r\n  \r\n  else if(this.months.month.length===2 && this.months.year.length===1){\r\n    this.multiKey=true\r\n    this.$key1=\"0\"+this.months.month[0]+\"\"+this.months.year[0]\r\n    this.$key2=\"0\"+this.months.month[1]+\"\"+this.months.year[0]\r\n      \r\n    for(let i=0;i<selectedDates.length;i++){\r\n      if((new Date(selectedDates[i]).getMonth()+1).toString()===this.months.month[0].toString())\r\n      this.leave.date.push(selectedDates[i]);\r\n     if((new Date(selectedDates[i]).getMonth()+1).toString()===this.months.month[1].toString())\r\n     this.leave.date2.push(selectedDates[i]);\r\n    }\r\n    this.leave.count=this.leave.date.length\r\n    this.leave.count2=this.leave.date2.length\r\n  }\r\n\r\nelse if(this.months.month.length===2 && this.months.year.length===2){\r\n  this.multiKey=true\r\n    this.$key1=\"0\"+this.months.month[0]+\"\"+this.months.year[0]\r\n    this.$key2=\"0\"+this.months.month[1]+\"\"+this.months.year[1]\r\n    \r\n    for(let i=0;i<selectedDates.length;i++){\r\n      if((new Date(selectedDates[i]).getMonth()+1).toString()===this.months.month[0].toString())\r\n      this.leave.date.push(selectedDates[i]);\r\n     if((new Date(selectedDates[i]).getMonth()+1).toString()===this.months.month[1].toString())\r\n     this.leave.date2.push(selectedDates[i]);\r\n    }\r\n    this.leave.count=this.leave.date.length\r\n    this.leave.count2=this.leave.date2.length\r\n  }\r\n  \r\n  \r\n \r\n  return this.leave\r\n\r\n\r\n\r\n \r\n}\r\n\r\nshowYear:boolean=true\r\nenableYear(){\r\n  this.months.year=null\r\n  this.showYear=false;\r\n  console.log(\"fasd\")\r\n}\r\n  \r\n\r\n}// end of class\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/apply-leave/apply-leave.ts"],"sourceRoot":""}