{"version":3,"sources":["../../src/pages/tabs/tabs.module.ts","../../src/pages/tabs/tabs.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACd;AAclC;IAAA;IAEA,CAAC;IAFY,cAAc;QAZ1B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,uDAAQ;aACT;YACD,OAAO,EAAE;gBACP,8DAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;aACnC;YACD,OAAO,EAAC;gBACN,uDAAQ;aACT;SAEF,CAAC;OACW,cAAc,CAE1B;IAAD,qBAAC;CAAA;AAF0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBe;AAC6B;AAClB;AACQ;AACkB;AACI;AAKnF;;;;;GAKG;AAQH;IAsBE,kBAAoB,GAAuB,EAAQ,OAA2B,EAAS,MAAc,EAAQ,OAAsB,EAAS,SAAoB,EAAS,MAAsB;QAA3K,QAAG,GAAH,GAAG,CAAoB;QAAQ,YAAO,GAAP,OAAO,CAAoB;QAAS,WAAM,GAAN,MAAM,CAAQ;QAAQ,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,WAAM,GAAN,MAAM,CAAgB;QAdhM;;wCAEgC;QAC/B,aAAQ,GAAC,UAAU,CAAC;QACpB,aAAQ,GAAC,gBAAgB,CAAC;QAC1B,aAAQ,GAAC,aAAa,CAAC;QACvB,aAAQ,GAAC,WAAW,CAAC;QAIrB,QAAG,GAAS,IAAI,CAAC;QAOf,IAAI,CAAC,UAAU,GAAC,IAAI,CAAC,SAAS,CAAC,IAAI;QACnC,IAAI,CAAC,WAAW,EAAE,CAAC;QACpB,IAAI,CAAC,GAAG,GAAC,KAAK,CAAC;QACf,+CAA+C;QAC/C,0BAA0B;QAEzB,IAAI,CAAC,GAAG,GAAC,2EAAyE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,8DAA2D;IAC/K,CAAC;IACI,8BAAW,GAAjB;;;;;4BAGG,qBAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,YAAU,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAC,UAAS,IAAI;4BAClG,KAAK,GAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE;wBAGhC,CAAC,CAAC;;wBAJH,SAIG,CAAC;wBACH,IAAI,CAAC,KAAK,GAAC,KAAK,CAAC;wBAElB,qBAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,YAAU,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAK,CAAC,CAAC,IAAI,CAAC,OAAO,EAAC,UAAS,IAAI;gCAClG,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE;4BAGtC,CAAC,CAAC;;wBAJH,SAIG,CAAC;wBACH,IAAI,CAAC,QAAQ,GAAC,QAAQ,CAAC;;;;;KAEzB;IAEK,8BAAW,GAAjB;;;;;;wBAEQ,OAAO,GAAkB;4BAC7B,OAAO,EAAE,GAAG;4BACZ,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;4BACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;4BAC5C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;4BACvC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,YAAY;4BACtD,gBAAgB,EAAC,KAAK;yBACvB;wBAEM,qBAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC;4BAA5C,sBAAO,SAAqC;;;;KAC/C;IACC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAgCG;IAEH,yBAAM,GAAN;QAAA,iBAGC;QAFC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE;aACjB,IAAI,CAAC,cAAM,YAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,EAAjC,CAAiC,CAAC,CAAC;IACzD,CAAC;IAED,iCAAc,GAAd;QAEE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IAC1C,CAAC;IAEH,mCAAgB,GAAhB,UAAiB,IAAY;QAC7B,IAAI,CAAC,GAAG,GAAC,KAAK,CAAC;QACb,IAAM,QAAQ,GAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,SAAM,CAAC;QAE3D,IAAI,CAAC,KAAK,GAAG,wBAAwB,GAAG,IAAI,CAAC;QAC7C,IAAI,CAAC,GAAG,GAAC,IAAI,CAAC,KAAK,CAAC;QAEpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;QAEzE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAChD,CAAC;IAEK,gCAAa,GAAnB;;;;;4BACgB,qBAAM,IAAI,CAAC,WAAW,EAAE;;wBAAjC,MAAM,GAAG,SAAwB;wBACvC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;;;;;KAE9B;IA7HY,QAAQ;QALpB,gEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACG;SACzB,CAAC;iBAwB+L;OAtBpL,QAAQ,CAgIpB;IAAD,CAAC;AAAA;SAhIY,QAAQ,e","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TabsPage } from './tabs';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TabsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(TabsPage),\r\n  ],\r\n  exports:[\r\n    TabsPage\r\n  ]\r\n  \r\n})\r\nexport class TabsPageModule {\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams,normalizeURL } from 'ionic-angular';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport {  AngularFireDatabase, AngularFireList } from '@angular/fire/database';\r\nimport {  AngularFireStorage, AngularFireUploadTask } from '@angular/fire/storage';\r\n//import { AngularFireAuth } from '@angular/fire/auth';\r\n//import { AngularFirestore} from '@angular/fire/firestore';\r\n//import { AngularFileUploaderModule } from \"angular-file-uploader\";\r\nimport { firestore } from 'firebase';\r\n/**\r\n * Generated class for the TabsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-tabs',\r\n  templateUrl: 'tabs.html',\r\n})\r\n\r\nexport class TabsPage {\r\n \r\n  task: AngularFireUploadTask;\r\n  public itemRef: firebase.database.Reference\r\n  progress: any;  // Observable 0 to 100\r\n\r\n  image: string; // base64\r\n\r\n /* tab1Root = 'NewuserPage';\r\n  tab2Root = 'SystemsPage' ;\r\n  tab3Root = 'RecruitmentPage';*/\r\n  tab0Root='HomePage';\r\n  tab1Root='ApplyLeavePage';\r\n  tab2Root='PayslipPage';\r\n  tab3Root='InboxPage';\r\n  tab0Params:any\r\n  userId:any\r\n  uri:any;\r\n  hid:boolean=true;\r\n  uname:any;\r\n  position:any;\r\n \r\n  constructor(private fdb:AngularFireDatabase,public storage: AngularFireStorage,private camera: Camera,public navCtrl: NavController, public navParams: NavParams,private afAuth:AngularFireAuth) {\r\n    \r\n    \r\n    this.tab0Params=this.navParams.data\r\n    this.getusername();\r\n   this.hid=false;\r\n   //this.uname=this.afAuth.auth.currentUser.email\r\n   //console.log(this.uname);\r\n   \r\n    this.uri=`https://firebasestorage.googleapis.com/v0/b/sopaa-b37c1.appspot.com/o/${this.afAuth.auth.currentUser.uid}.jpg?alt=media&token=36f41e79-9cfc-40c8-b4ca-192113ff40b5`\r\n  }\r\n async getusername(){\r\n  var uname:any\r\n  var position:any\r\n    await this.fdb.database.ref(`/users/${this.afAuth.auth.currentUser.uid}`).once('value',function(snap){\r\n      uname=snap.child('fname').val()\r\n      \r\n   \r\n     });\r\n     this.uname=uname;\r\n    \r\n    await this.fdb.database.ref(`/users/${this.afAuth.auth.currentUser.uid}`).once('value',function(snap){\r\n      position=snap.child('position').val()\r\n       \r\n\r\n     });\r\n     this.position=position;\r\n   \r\n  }\r\n  \r\n  async changeimage()\r\n  {\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n     mediaType: this.camera.MediaType.PICTURE,\r\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n      saveToPhotoAlbum:false\r\n    }\r\n\r\n    return await this.camera.getPicture(options)\r\n}\r\n  /*{\r\n    \r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n     destinationType: this.camera.DestinationType.DATA_URL,\r\n     encodingType: this.camera.EncodingType.JPEG,\r\n    mediaType: this.camera.MediaType.PICTURE,\r\n     sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n     saveToPhotoAlbum:false\r\n     \r\n    }\r\n    \r\n    this.camera.getPicture(options).then((imageData) => {\r\n      \r\n     // imageData is either a base64 encoded string or a file URI\r\n     // If it's base64 (DATA_URL):\r\n     //console.log(imageData);\r\n     //let base64Image= imageData.replace(/^file:\\/\\//, '');\r\n     let base64Images = 'data:image/jpeg;base64,' + imageData;\r\n     this.uri=base64Images;\r\n    // alert(this.uri);\r\n    }, (err) => {\r\n     // Handle error\r\n    });\r\n   // alert(this.uri);\r\n   this.hid=false;\r\n   //image = normalizeURL(image);\r\n\r\n  //uploads img to firebase storage\r\n  //this.afStorage.upload('/upload/to/this-path', event.target.files[0]); \r\n  return await this.camera.getPicture(options)\r\n\r\n  }*/\r\n\r\n  logout(){\r\n    this.afAuth.auth.signOut()\r\n            .then(() => this.navCtrl.setRoot('LoginPage'));\r\n  }\r\n\r\n  changepassword(){\r\n   \r\n    this.navCtrl.push('ChangepasswordPage');\r\n  }\r\n  \r\ncreateUploadTask(file: string): void {\r\nthis.hid=false;\r\n  const filePath = `${this.afAuth.auth.currentUser.uid}.jpg`;\r\n\r\n  this.image = 'data:image/jpg;base64,' + file;\r\n  this.uri=this.image;\r\n  \r\n  this.task = this.storage.ref(filePath).putString(this.image, 'data_url');\r\n\r\n  this.progress = this.task.percentageChanges();\r\n}\r\n\r\nasync uploadHandler() {\r\n const base64 = await this.changeimage();\r\n this.createUploadTask(base64);\r\n\r\n}\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts"],"sourceRoot":""}