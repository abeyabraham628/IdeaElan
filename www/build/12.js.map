{"version":3,"sources":["../../src/pages/modifysystems/modifysystems.module.ts","../../src/pages/modifysystems/modifysystems.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { ComponentsModule } from './../../components/components.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModifysystemsPage } from './modifysystems';\n\n@NgModule({\n  declarations: [\n    ModifysystemsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModifysystemsPage),\n    ComponentsModule\n  ],\n})\nexport class ModifysystemsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modifysystems/modifysystems.module.ts","import { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport {  AngularFireDatabase } from '@angular/fire/database';\n\nimport { Component, Injectable } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport * as moment from 'moment'\nimport { DataService } from '../../providers/form-service';\n\n/**\n * Generated class for the ModifysystemsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-modifysystems',\n  templateUrl: 'modifysystems.html',\n})\n@Injectable()\nexport class ModifysystemsPage {\n \n  fieldName:string\n  params:any\n    showDefault:boolean=false;\n    showSystemUser:boolean=false;\n    showavExpiry:boolean=false;\n\n    default:string;\n    systemUser:string;\n    avExpiry:string;\n   \n  constructor(public formData:DataService,public navCtrl: NavController, public navParams: NavParams,public firebase:AngularFireDatabase,public alertCtrl:AlertController) {\n    this.getUsers()  \n    this.params=navParams.data\n    \n\n      \n  }\n\n  ionViewDidLoad() {\n    \n    switch(this.params.fieldName){\n      case 'keyboard' : this.fieldName='Key Board';\n                        this.default=this.params.fieldVal\n                        \n                        this.showDefault=true\n                        break;\n      case 'mouse'    : this.fieldName='Mouse';\n                        this.default=this.params.fieldVal\n                        this.showDefault=true\n                        break;\n      case 'processor': this.fieldName='Processor';\n                        this.default=this.params.fieldVal\n                        this.showDefault=true\n                        break;\n      case 'hdd'      : this.fieldName='Hard Disk';\n                        this.default=this.params.fieldVal\n                        this.showDefault=true\n                        break;\n      case 'memory'   : this.fieldName='Ram';\n                        this.default=this.params.fieldVal\n                        this.showDefault=true\n                        break;\n      case 'avExpiry' : this.fieldName='Antivirus Expiry';\n                       this.avExpiry=this.params.fieldVal\n                        this.showavExpiry=true\n                        break;\n      case 'systemUser': this.fieldName='System User';\n                        this.systemUser=this.params.fieldVal\n                        this.showSystemUser=true\n                        break;   \n      \n\n}\n    \n  }\n\n  employeeList=[]\n\ngetUsers(){\n  this.firebase.list(`users`).snapshotChanges().subscribe(list=>{\n      this.employeeList=list.map(item=>{\n        return{\n          '$key':item.key,\n          'fName':item.payload.child('fname').val(),\n          'lName':item.payload.child('lname').val()\n        }\n       \n      })\n      \n\n  })\n\n \n}\nupdateSystems(){\n  let value:string\n  switch(this.params.fieldName){\n\n    case 'keyboard' : \n    case 'mouse'    : \n    case 'processor': \n    case 'hdd'      : \n    case 'memory'   : value=this.default;break\n    case 'avExpiry' : value=this.avExpiry;break;\n    case 'systemUser':value=this.systemUser;break;   \n  }\n    \n      this.firebase.list(`systems/${this.params.$key}/maintenance`).push({\n        [this.params.fieldName]:value,\n        date:moment().format('D-MMM-YYYY'),\n        user:this.params.userKey!=this.systemUser?this.params.userKey:value\n      }).then(()=>{\n        this.firebase.list(`systems`).update(this.params.$key,{\n          [this.params.fieldName]:value\n        }).then(()=>{\n          let alert=this.alertCtrl.create({\n            title:\"Success\",\n            message:this.fieldName+\" updated successfully\",\n            buttons: [{\n            text:'OK',\n            handler:()=>{\n              this.formData.changeValue(value)\n              this.navCtrl.pop()\n            }\n            }]\n          })\n          alert.present();\n         \n        })\n      })\n        \n        \n     \n  }\n\n /* case 'keyboard' : this.fieldName='Key Board';\n  this.firebase.list(`systems`).update(data.$key,{\n      keyboard:data.keyboard\n  })*/\n}\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modifysystems/modifysystems.ts"],"sourceRoot":""}