{"version":3,"sources":["../../src/pages/upload-events/upload-events.module.ts","../../src/providers/designations.ts","../../src/pages/upload-events/upload-events.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { ComponentsModule } from './../../components/components.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { UploadEventsPage } from './upload-events';\n\n@NgModule({\n  declarations: [\n    UploadEventsPage,\n    \n  ],\n  imports: [\n    IonicPageModule.forChild(UploadEventsPage),\n    ComponentsModule\n  ],\n})\nexport class UploadEventsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload-events/upload-events.module.ts","export const  Designations=[\r\n                        {position:'Intern',                 value:'Intern'},\r\n                        {position:'Jr.Software Engineer',   value:'Jr.Software Engineer'},\r\n                        {position:'Product Manager',        value:'Product Manager'},\r\n                        {position:'Project Manager',        value:'Project Manager'},\r\n                        {position:'HR Execuitive',          value:'HR Execuitive'},\r\n                        {position:'QA Manager',             value:'QA Manager'},\r\n                        {position:'Sr.Software Engineer',   value:'Sr.Software Engineer'},\r\n                        {position:'Sr.Software Developer',  value:'Sr.Software Developer'},\r\n                        {position:'Support Specialist',     value:'Support Specialist'},\r\n                        {position:'Sales Support Manager',  value:'Sales Support Manager'},\r\n                        {position:'Software Developer',     value:'Software Developer'},\r\n                        {position:'Software Test Engineer', value:'Software Test Engineer'},\r\n                        {position:'Sr.Support Specialist',  value:'Sr.Support Specialist'},\r\n                        {position:'Team Lead',              value:'Team Lead'}\r\n       \r\n       ]\r\n\r\n          \r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/designations.ts","import { map, count } from 'rxjs/operators';\nimport { Firebase } from '@ionic-native/firebase';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { Component, ANALYZE_FOR_ENTRY_COMPONENTS } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, LoadingController } from 'ionic-angular';\nimport {FormControl,FormGroup,Validators}from '@angular/forms';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Designations } from '../../providers/designations';\nimport * as moment from 'moment'\nimport { tokenKey } from '@angular/core/src/view';\n\n/**\n * Generated class for the UploadEventsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-upload-events',\n  templateUrl: 'upload-events.html',\n})\nexport class UploadEventsPage {\n\n\n  designations=Designations\n  messages:string\n  loader:any\n\n  constructor(public loadingCtrl:LoadingController,public alertCtrl:AlertController,public navCtrl: NavController, public navParams: NavParams,public firebase:AngularFireDatabase,public afauth:AngularFireAuth) {\n    this.messages=\"compose\"\n  }\n\n  ionViewDidLeave() {\n    this.navCtrl.popToRoot();\n  }\n \n\n  PublishMessageForm=new FormGroup({\n    subject:new FormControl('',[Validators.required]),\n    message:new FormControl('',[Validators.required]),\n    recipients:new FormControl('',[Validators.required]),\n    postedBy:new FormControl(''),\n    time:new FormControl(''),\n    date:new FormControl(''),\n\n});\n\nasync publishMessage(){\n let sentTo=this.recipients\n  let users=[]\n  let sender:string\n  await this.firebase.database.ref(`users/${this.afauth.auth.currentUser.uid}`).once('value',(snap)=>{\n         sender=(snap.child('fname').val()+\" \"+snap.child('lname').val())\n  })\n\n  await this.firebase.database.ref(`users`).once('value',(snap)=>{\n    \n     snap.forEach(function(childSnapshot) {\n      if(childSnapshot.child('status').val()===\"active\"){\n        for(let i=0;i<sentTo.length;i++)\n          if(sentTo[i]==\"All\"){\n            users.push(childSnapshot.key)\n          }\n        else{\n          if(childSnapshot.child('position').val()===sentTo[i])\n              users.push(childSnapshot.key)\n          }\n        }\n      });\n})\n\n  this.PublishMessageForm.controls['date'].setValue(moment().format('D-MMM-YYYY'))\n  this.PublishMessageForm.controls['time'].setValue(moment().format('h:mm a'))\n  this.PublishMessageForm.controls['postedBy'].setValue(sender)\n \n  for(let i=0;i<users.length;i++)\n   this.firebase.list(`messages/${users[i]}`).push({\n     'date':this.PublishMessageForm.controls['date'].value,\n     'message':this.PublishMessageForm.controls['message'].value,\n     'postedBy':this.PublishMessageForm.controls['postedBy'].value,\n     'subject':this.PublishMessageForm.controls['subject'].value,\n     'time':this.PublishMessageForm.controls['time'].value,\n     'status':'unread'\n   })\n\n    this.firebase.list(`sentmessages/${this.afauth.auth.currentUser.uid}`).push({\n      'recipients':this.recipients,\n      'date':this.PublishMessageForm.controls['date'].value,\n     'message':this.PublishMessageForm.controls['message'].value,\n     'subject':this.PublishMessageForm.controls['subject'].value,\n     'time':this.PublishMessageForm.controls['time'].value\n    })\n\n    let alert = this.alertCtrl.create({\n      title: \"Success\",\n      subTitle: \"Message Sent Successfully\",\n      buttons: ['OK']\n    });\n    \n    alert.present();\n  \n    this.PublishMessageForm.reset()\n  }\n\n\n\n\n\n recipients=[]\n addRecipients(){\n   \n  let allSelected:boolean\n  let alert = this.alertCtrl.create();\n  \n  alert.setTitle('Choose Recipients');\n  alert.addInput({\n    type: 'checkbox',\n    label: \"All\",\n    value:'All',\n    handler:(x)=>{\n    if(x.checked){\n        allSelected=true\n      for(let i=1;i<alert.data.inputs.length;i++)\n        alert.data.inputs[i].checked=true\n      }\n      else{\n        allSelected=false\n      for(let i=1;i<alert.data.inputs.length;i++)\n        alert.data.inputs[i].checked=false\n      }\n      \n    }\n});\n\n  this.designations.forEach((item)=>{\n      alert.addInput({\n         type: 'checkbox',\n         label: item.position,\n         value: item.value,\n         checked:false,\n        handler:()=>{\n         \n          allSelected=false\n          alert.data.inputs[0].checked=false\n          \n        }\n    });\n })\n alert.addButton('Cancel');\n alert.addButton({\n   text: 'OK',\n   handler: data => {\n          if(data==\"\" || data==null){\n            this.recipients = data;\n            this.PublishMessageForm.controls['recipients'].setValue(this.recipients);\n          }\n          else if(allSelected){\n              data='All'\n              this.recipients = data;\n              this.PublishMessageForm.controls['recipients'].setValue(this.recipients);\n            }\n          else{\n            this.recipients = data;\n            this.PublishMessageForm.controls['recipients'].setValue(this.recipients);\n\n          }\n\n   }//end of handler function\n });\n//Conditions to enable tick for the checkbox when displaying the alert.\n if(this.recipients.length>0){\n   if(this.recipients.toString()=='All'){\n    for(let i=0;i<alert.data.inputs.length;i++){//Check all fields is the the array contains 'All'\n      alert.data.inputs[i].checked=true\n    }\n  }\n  else{\n    for(let i=0;i<alert.data.inputs.length;i++){  // Compare the all degsignations with the selected recipients. If  deisgnation mathches with the recipient the check that field. This function is user to load the already selected recipients\n      for(let j=0;j<this.recipients.length;j++)\n      if(alert.data.inputs[i].value==this.recipients[j])\n        alert.data.inputs[i].checked=true\n    }\n  }\n}\n alert.present();\n }\n\n\n\n\nsentItems=[]\n getSentItems(){\n  this.PublishMessageForm.reset()\n  this.loader=this.loadingCtrl.create({\n    spinner:'dots',\n    content:'Loading',\n     dismissOnPageChange:true\n   })\n  this.loader.present()\n    this.firebase.list(`sentmessages/${this.afauth.auth.currentUser.uid}`).snapshotChanges().subscribe(snap=>{\n        this.sentItems=snap.map(items=>{\n          return{\n            $key:items.key,\n            ...items.payload.val()\n          }\n        }).reverse()\n    })\n    this.loader.dismiss()  \n }\n\n\n viewMessage(message) {\n  const alert = this.alertCtrl.create({\n    title: \"Subject: \"+message.subject,\n    subTitle:\"Recipients: \"+message.recipients,\n    message:\"Message: \"+message.message,\n    buttons: ['OK']\n  });\n  alert.present();\n}\n \n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/upload-events/upload-events.ts"],"sourceRoot":""}