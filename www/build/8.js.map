{"version":3,"sources":["../../src/pages/tabs/tabs.module.ts","../../src/pages/tabs/tabs.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { Camera } from '@ionic-native/camera';\r\nimport { AngularFireStorage } from '@angular/fire/storage';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TabsPage } from './tabs';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TabsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(TabsPage),\r\n    ComponentsModule\r\n  ],\r\n  providers:[AngularFireStorage,Camera],\r\n  exports:[\r\n    TabsPage\r\n  ]\r\n  \r\n})\r\nexport class TabsPageModule {\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.module.ts","import { DataService } from './../../providers/form-service';\r\nimport { ChatbotPage } from './../chatbot/chatbot';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera';\r\nimport {  AngularFireDatabase } from '@angular/fire/database';\r\nimport {  AngularFireStorage, AngularFireUploadTask } from '@angular/fire/storage';\r\nimport { AppConst } from '../../providers/strings';\r\n\r\n\r\n/**\r\n * Generated class for the TabsPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-tabs',\r\n  templateUrl: 'tabs.html',\r\n})\r\n\r\nexport class TabsPage {\r\n \r\n  task: AngularFireUploadTask;\r\n  public itemRef: firebase.database.Reference\r\n  progress: any;  // Observable 0 to 100\r\n\r\n  image: string; // base64\r\n  defaultImg=AppConst.logo\r\n  tab0Root='HomePage';\r\n  tab1Root='ApplyLeavePage';\r\n  tab2Root=ChatbotPage;\r\n  tab3Root='InboxPage';\r\n  tab4Root='SupportPage';\r\n  tab0Params:any\r\n  messageCount:number=0\r\n  userId:any\r\n  uri:any;\r\n  hid:boolean=true;\r\n  uname:any;\r\n  position:any;\r\n  hideAdmin:boolean=true\r\n\r\n  roles:any[]\r\n  users:boolean=true\r\n  recruitment:boolean=true\r\n  systems:boolean=true\r\n  policy:boolean=true\r\n  leaveRequest:boolean=true\r\n  sendMessage:boolean=true\r\n  controllPanel:boolean=false\r\n  user:any=\"\"\r\n  constructor(private data:DataService,private fdb:AngularFireDatabase,public storage: AngularFireStorage,private camera: Camera,public navCtrl: NavController, public navParams: NavParams,private afAuth:AngularFireAuth) {\r\n    this.roles=this.navParams.data\r\n    \r\n    \r\n    this.tab0Params=this.roles\r\n    if(this.roles[0]!=\"null\"){\r\n       this.user=\"admin\" \r\n      this.users=false\r\n      this.recruitment=false\r\n      this.systems=false\r\n      this.policy=false\r\n      this.leaveRequest=false\r\n      this.sendMessage=false\r\n      this.controllPanel=true\r\n    }\r\n\r\n    if(this.roles[1]!=\"null\"){\r\n      this.leaveRequest=false\r\n      this.controllPanel=true\r\n    }\r\n\r\n     if(this.roles[2]!=\"null\"){\r\n      this.policy=false\r\n      this.controllPanel=true\r\n     }\r\n      if(this.roles[3]!=\"null\"){\r\n      this.sendMessage=false\r\n      this.controllPanel=true\r\n      }\r\n      if(this.roles[4]!=\"null\"){\r\n        if(this.user!='admin')this.user=\"hr\"\r\n      this.recruitment=false\r\n      this.controllPanel=true\r\n      }\r\n      if(this.roles[5]!=\"null\"){\r\n      this.systems=false\r\n      this.controllPanel=true\r\n      }\r\n      if(this.roles[6]!=\"null\"){\r\n      this.users=false\r\n      this.controllPanel=true\r\n      }\r\n    \r\n      if(this.user==\"hr\" || this.user==\"admin\"){\r\n        this.getSupportMessages()\r\n      }\r\n\r\n    this.getusername();\r\n    this.getMessages()\r\n    this.hid=false;\r\n   //this.uname=this.afAuth.auth.currentUser.email\r\n   //console.log(this.uname);\r\n   \r\n      \r\n    \r\n   \r\n    //.uri=`https://firebasestorage.googleapis.com/v0/b/sopaa-b37c1.appspot.com/o/${this.afAuth.auth.currentUser.uid}.jpg?alt=media&token=36f41e79-9cfc-40c8-b4ca-192113ff40b5`\r\n      this.data.currentUri.subscribe(item=>this.uri=item)\r\n  }\r\n\r\n  \r\n\r\n \r\n\r\n async getusername(){\r\n  \r\n    await this.fdb.database.ref(`/users/${this.afAuth.auth.currentUser.uid}`).on('value',snap=>{\r\n      this.uname=snap.child('fname').val() +\" \"+snap.child('lname').val()\r\n      this.position=snap.child('position').val()\r\n   \r\n     });\r\n     \r\n  }\r\n  \r\n  async changeimage()\r\n  {\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      destinationType: this.camera.DestinationType.DATA_URL,\r\n      encodingType: this.camera.EncodingType.JPEG,\r\n     mediaType: this.camera.MediaType.PICTURE,\r\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n      saveToPhotoAlbum:false\r\n    }\r\n\r\n    return await this.camera.getPicture(options)\r\n}\r\n  async logout(){\r\n      \r\n    alert(this.afAuth.auth.currentUser.uid);\r\n   await this.fdb.database.ref('tokensNotificationId').orderByChild('userIdTocken').equalTo(`${this.afAuth.auth.currentUser.uid}`).once(\"value\",(snap)=>{\r\n    snap.forEach((child) => {\r\n        this.fdb.object(\"/tokensNotificationId/\"+child.key).update({ tokenid:\"null\",userIdTocken : this.afAuth.auth.currentUser.uid});\r\n       })\r\n    });\r\n\r\n\r\n    this.afAuth.auth.signOut()\r\n            .then(() => this.navCtrl.setRoot('LoginPage'));\r\n  }\r\n\r\n\r\n  changepassword(){\r\n   \r\n    this.navCtrl.push('ChangepasswordPage');\r\n  }\r\n\r\n  \r\n\r\n  goto(page:string){\r\n    \r\n    this.navCtrl.push(page)\r\n    \r\n  }\r\n \r\n  \r\ncreateUploadTask(file: string): void {\r\nthis.hid=false;\r\n  const filePath = `${this.afAuth.auth.currentUser.uid}.jpg`;\r\n  this.image = 'data:image/jpg;base64,' + file;\r\n  this.uri=this.image;\r\n  this.task = this.storage.ref(filePath).putString(this.image, 'data_url');\r\n\r\n  this.progress = this.task.percentageChanges();\r\n}\r\n\r\nasync uploadHandler() {\r\n const base64 = await this.changeimage();\r\n this.createUploadTask(base64);\r\n\r\n}\r\n\r\nmessages=[]\r\ngetMessages(){\r\n  this.fdb.list(`messages/${this.afAuth.auth.currentUser.uid}`).snapshotChanges().subscribe(snap=>{\r\n    this.messages=snap.map(item=>{\r\n      return{\r\n        $key:item.key,\r\n        ...item.payload.val()\r\n      }\r\n\r\n    })\r\n    this.messageCount=0;\r\n    for( let i=0;i<this.messages.length;i++)\r\n      {\r\nif(this.messages[i]['status']!='read')\r\nthis.messageCount++;\r\n      }\r\n    console.log(\"messages is \",this.messages[0]['status'])\r\n    console.log(this.messages.length)\r\n    console.log(\"actual messagecount \", this.messageCount);\r\n  })\r\n  \r\n}\r\n\r\n\r\nSupportMessages=[]\r\nsupportMessagecount:number\r\ngetSupportMessages(){\r\n  this.fdb.list(`support`,ref=>ref.orderByChild(`recipient`).equalTo(`${this.user}`)).snapshotChanges().subscribe(snap=>{\r\n    this.SupportMessages=snap.map(item=>{\r\n      return{\r\n        $key:item.key,\r\n        ...item.payload.val()\r\n      }\r\n\r\n    })\r\n\r\n    this.supportMessagecount=0;\r\n    \r\n    if(this.SupportMessages.length>0){\r\n    for( let i=0;i<this.SupportMessages.length;i++)\r\n      {\r\n        if((this.SupportMessages[i]['status']=='pending') || ( this.SupportMessages[i]['status']=='review'  ))\r\n        this.supportMessagecount++;\r\n      }\r\n    console.log(\"messages is \",this.SupportMessages[0]['status'])\r\n    console.log(this.SupportMessages.length)\r\n    console.log(\"actual SUPPORT count \", this.supportMessagecount);\r\n    }\r\n  })\r\n}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts"],"sourceRoot":""}